<div class="container profile-wrapper">
	<div class="data-section row justify-content-between">
		<div
			class="profile-data flex-column d-flex justify-content-center align-items-start col-8"
		>
			<ng-container *ngIf="!edit; else editTemplate">
				<h5>
					Name: <span class="ml-2">{{ userData.userName }}</span>
				</h5>
				<h5>
					AvatarURL: <span class="ml-2">{{ userData.photoURL }}</span>
				</h5>
			</ng-container>
			<ng-template #editTemplate>
				<form (ngSubmit)="onSubmit()" #form="ngForm" novalidate>
					<mat-form-field class="w-100">
						<input
							matInput
							[(ngModel)]="model.userName"
							name="name"
							type="text"
							required
						/>
					</mat-form-field>
					<mat-form-field class="w-100">
						<input
							matInput
							type="text"
							ngModel
							name="photoURL"
							[(ngModel)]="model.avatarUrl"
						/>
					</mat-form-field>
					<button
						mat-raised-button
						color="warn"
						type="button"
						(click)="editPersonalDataToggle()"
					>
						Cancel
					</button>
					<button
						mat-raised-button
						color="primary"
						[disabled]="isLoading || form.invalid"
						type="submit"
					>
						<div class="d-inline-flex align-items-center">
							<ng-container *ngIf="isLoading">
								<mat-spinner
									[diameter]="15"
									color="primary"
								></mat-spinner>
							</ng-container>
							Submit
						</div>
					</button>
				</form>
			</ng-template>
		</div>
		<div class="avatar col-3">
			<img src="{{ this.userData?.photoURL || '' }}" alt="avatar" />
		</div>
	</div>

	<div class="text-center mt-5" *ngIf="!edit">
		<button
			mat-raised-button
			type="button"
			color="primary"
			(click)="editPersonalDataToggle()"
		>
			Change Display Data
		</button>
	</div>
</div>
